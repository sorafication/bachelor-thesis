<!DOCTYPE html>
<!-- saved from url=(0069)https://www.apollographql.com/docs/apollo-server/performance/caching/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><style data-href="/docs/apollo-server/styles.e9f2fdb279acd84cef8c.css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}@font-face{font-family:Source Code Pro;font-style:normal;font-weight:400;src:local("Source Code Pro Regular"),local("SourceCodePro-Regular"),url(https://fonts.gstatic.com/s/sourcecodepro/v11/HI_SiYsKILxRpg3hIP6sJ7fM7PqlPevT.ttf) format("truetype")}@font-face{font-family:Source Sans Pro;font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7g.ttf) format("truetype")}@font-face{font-family:Source Sans Pro;font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rwlxdr.ttf) format("truetype")}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}body{font-family:Source Sans Pro,sans-serif}code,pre{font-family:Source Code Pro,monospace}html{font-size:100%;line-height:1.45;overflow-y:auto}body{color:#5a6270}h1,h2,h3,h4,h5,h6,img.screenshot,ol,p,ul{margin:0 0 1.45rem}h4,h5{margin-bottom:1.0875rem}h1,h2,h3,h4,h5,h6{line-height:1.1;color:#2f353f}h1,h2,h3,h4,h6{font-weight:400}h1{font-size:2.5rem}h2{font-size:1.73286rem}h3{font-size:1.4427rem}h4,li,p{font-size:1.125rem}h5{font-size:1rem}h6{font-size:.875rem}li,p{line-height:1.7}ol,ul{margin-left:1.45rem;padding:0}li{margin-bottom:.725rem}li>ol,li>ul{margin-top:.725rem}blockquote{margin-left:0;padding:12px 20px;border-left:2px solid #3f20ba}blockquote>p{font-size:inherit}blockquote>p:last-child,form{margin-bottom:0}hr{height:1px;margin-bottom:calc(1.45rem - 1px);border:none;background-color:#dee2e7}img.screenshot{box-shadow:0 0 0 1px rgba(18,21,26,.04),0 1px 4px 0 rgba(0,0,0,.08);border-radius:8px}.gatsby-code-title{display:flex;align-items:center;margin-bottom:-50px;height:50px;font-size:15px;font-family:Source Code Pro,monospace;color:#5a6270;padding-left:19px}.gatsby-highlight-code-line{background-color:#ebeef0;display:block;margin-right:-1em;margin-left:-3.5em;padding-right:1em;padding-left:3.5em}.gatsby-highlight pre[class*=language-]{background-color:transparent;margin:0;padding:0;overflow:initial;float:left;min-width:100%}.gatsby-highlight pre[class*=language-].line-numbers{padding-left:2.5em}.gatsby-highlight pre[class*=language-].line-numbers .line-numbers-rows{border-right:none}.gatsby-highlight pre[class*=language-].line-numbers .line-numbers-rows>span:before{color:#cad0d8}code[class*=language-],pre[class*=language-]{color:#2f353f;font-size:15px;text-shadow:none;font-family:Source Code Pro,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;background:#f4f6f8}:not(pre)>code[class*=language-]{padding:.1em .3em;border-radius:.3em;font-size:.9em;color:#f25cc1;background:#ebeef0}.namespace{opacity:.7}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#959daa}.token.punctuation{color:#5a6270}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#f25cc1}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#26a29d}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:inherit;background:transparent}.token.atrule,.token.attr-value,.token.keyword{color:#3f20ba}.token.class-name,.token.function{color:#f25cc1}.token.important,.token.regex,.token.variable{color:#f4d03f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-]>code[class*=language-],pre[data-line]{position:relative}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 2.24.67"><title>Caching - Apollo Server - Apollo GraphQL Docs</title><link data-react-helmet="true" rel="stylesheet" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/docsearch.min.css"><link data-react-helmet="true" rel="icon" href="https://apollographql.com/favicon.ico"><meta data-react-helmet="true" name="description" content="A guide to using Apollo Server"><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta data-react-helmet="true" property="og:title" content="Caching"><meta data-react-helmet="true" property="og:site_name" content="Apollo GraphQL Docs"><meta data-react-helmet="true" property="og:description" content="Automatically set HTTP cache headers and save full responses in a cache."><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="twitter:title" content="Caching"><meta data-react-helmet="true" name="twitter:description" content="Automatically set HTTP cache headers and save full responses in a cache."><meta data-react-helmet="true" property="og:image" content="/docs/apollo-server/social-cards/caching.png"><meta data-react-helmet="true" name="twitter:image" content="https://www.apollographql.com/docs/apollo-server/social-cards/caching.png"><meta data-react-helmet="true" name="twitter:site" content="@apollographql"><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script async="" src="./Caching - Apollo Server - Apollo GraphQL Docs_files/analytics.js"></script><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 72)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com/"><link rel="dns-prefetch" href="https://www.google-analytics.com/"><script>
          var ffWidgetId = '3131c43c-bfb5-44e6-9a72-b4094f7ec028';
          var ffWidgetScript = document.createElement("script");
          ffWidgetScript.type = "text/javascript";
          ffWidgetScript.src = 'https://freddyfeedback.com/widget/freddyfeedback.js';
          document.head.appendChild(ffWidgetScript);
        </script><script type="text/javascript" src="./Caching - Apollo Server - Apollo GraphQL Docs_files/freddyfeedback.js"></script><link as="script" rel="preload" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/webpack-runtime-30973b71277fecd56f25.js"><link as="script" rel="preload" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/styles-c4fa86dfd4ad05097eee.js"><link as="script" rel="preload" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/framework-acb96471af32e2ccbc9d.js"><link as="script" rel="preload" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/app-db1a8bd0a4ff2ede7004.js"><link as="script" rel="preload" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/component---node-modules-gatsby-theme-apollo-docs-src-components-template-js-87fdbf97562b7d15efb1.js"><link as="fetch" rel="preload" href="https://www.apollographql.com/docs/apollo-server/page-data/performance/caching/page-data.json" crossorigin="anonymous"><link as="fetch" rel="preload" href="https://www.apollographql.com/docs/apollo-server/page-data/sq/d/1511030359.json" crossorigin="anonymous"><link as="fetch" rel="preload" href="https://www.apollographql.com/docs/apollo-server/page-data/sq/d/2468095761.json" crossorigin="anonymous"><link as="fetch" rel="preload" href="https://www.apollographql.com/docs/apollo-server/page-data/sq/d/2468095761.json" crossorigin="anonymous"><link as="fetch" rel="preload" href="https://www.apollographql.com/docs/apollo-server/page-data/app-data.json" crossorigin="anonymous"><style data-emotion-css="bzzyjq">.css-bzzyjq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;max-width:1440px;margin:0 auto;}</style><style data-emotion-css="1bs7gxh">.css-1bs7gxh{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:312px;height:100vh;padding:24px;border-right:1px solid #DEE2E7;overflow-y:auto;position:-webkit-sticky;position:sticky;top:0;}@media (max-width:850px){.css-1bs7gxh{height:100%;background-color:white;box-shadow:0 0 48px rgba(0,0,0,0.25);position:fixed;z-index:2;opacity:0;visibility:hidden;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);-webkit-transition-property:-webkit-transform,opacity,visibility;-webkit-transition-property:transform,opacity,visibility;transition-property:transform,opacity,visibility;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;}}</style><style data-emotion-css="7ieosi">.css-7ieosi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:24px;}</style><style data-emotion-css="gbkvvb">.css-gbkvvb{color:#2F353F;-webkit-text-decoration:none;text-decoration:none;}</style><style data-emotion-css="1vndmh4">.css-1vndmh4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:24px;}</style><style data-emotion-css="eqczm9">.css-eqczm9{height:1em;margin-right:0.2857142857em;}</style><style data-emotion-css="5i1btw">.css-5i1btw{overflow:visible;height:293px;height:1em;margin-right:0.2857142857em;}.css-5i1btw *{vector-effect:non-scaling-stroke;}</style><style data-emotion-css="iqx1fs">.css-iqx1fs{height:0.7857142857em;margin-top:0.07142857143em;}</style><style data-emotion-css="4ddkzq">.css-4ddkzq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:32px;}</style><style data-emotion-css="i9gxme">.css-i9gxme{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><style data-emotion-css="3lqork">.css-3lqork{width:100%;}.css-3lqork:not(:hover){background-color:#F4F6F8;}</style><style data-emotion-css="y0nxrj">.css-y0nxrj{background-color:transparent;border-radius:4px;border-width:0;color:#3f20ba;cursor:pointer;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:28px;min-width:76px;padding:0 12px;font-family:'Source Sans Pro',sans-serif;font-size:13px;line-height:1.54;font-weight:600;outline:0;-webkit-text-decoration:none;text-decoration:none;white-space:nowrap;}.css-y0nxrj[disabled],.css-y0nxrj[disabled]:hover{background-color:transparent;box-shadow:none;color:#959DAA;}.css-y0nxrj:hover,.css-y0nxrj[data-force-hover-state]{background-color:#ebe6ff;color:#3f20ba;}.css-y0nxrj:focus,.css-y0nxrj[data-force-focus-state]{background-color:#ffffff;color:#2075d6;box-shadow:0 1px 4px 0 rgba(18,21,26,0.08),0 0 0 2px #bbdbff,inset 0 0 0 1px #311c87,inset 0 -1px 0 0 rgba(18,21,26,0.05);}.css-y0nxrj:active,.css-y0nxrj[data-force-active-state],.css-y0nxrj[aria-expanded=true]{color:#3f20ba;background-color:#ad9bf6;box-shadow:none;outline:0;}</style><style data-emotion-css="1fs6g1o">.css-1fs6g1o{height:16px;width:16px;margin-left:auto;}</style><style data-emotion-css="zmqicx">.css-zmqicx{overflow:visible;height:24px;height:16px;width:16px;margin-left:auto;}.css-zmqicx *{vector-effect:non-scaling-stroke;}</style><style data-emotion-css="79elbk">.css-79elbk{position:relative;}</style><style data-emotion-css="hga22n">.css-hga22n{background-color:transparent;border-radius:4px;border-width:0;color:#424855;cursor:pointer;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:28px;min-width:76px;padding:0 12px;font-family:'Source Sans Pro',sans-serif;font-size:13px;line-height:1.54;font-weight:600;outline:0;-webkit-text-decoration:none;text-decoration:none;white-space:nowrap;}.css-hga22n[disabled],.css-hga22n[disabled]:hover{background-color:transparent;box-shadow:none;color:#959DAA;}.css-hga22n:hover,.css-hga22n[data-force-hover-state]{background-color:#F4F6F8;color:#424855;}.css-hga22n:focus,.css-hga22n[data-force-focus-state]{background-color:#ffffff;color:#2075d6;box-shadow:0 1px 4px 0 rgba(18,21,26,0.08),0 0 0 2px #bbdbff,inset 0 0 0 1px #2075d6,inset 0 -1px 0 0 rgba(18,21,26,0.05);}.css-hga22n:active,.css-hga22n[data-force-active-state],.css-hga22n[aria-expanded=true]{color:#424855;background-color:#EBEEF0;box-shadow:none;outline:0;}</style><style data-emotion-css="gyp8mm">.css-gyp8mm{visibility:hidden;}</style><style data-emotion-css="v0jgcu">.css-v0jgcu{position:absolute;top:0;left:0;}</style><style data-emotion-css="jubejm">.css-jubejm{height:1em;width:1em;margin-left:12px;}</style><style data-emotion-css="z27mee">.css-z27mee{overflow:visible;height:24px;height:1em;width:1em;margin-left:12px;}.css-z27mee *{vector-effect:non-scaling-stroke;}</style><style data-emotion-css="1kjoysr">.css-1kjoysr{margin-left:0;margin-bottom:32px;list-style:none;}</style><style data-emotion-css="xjzpx7">.css-xjzpx7{font-size:1rem;line-height:1.5;margin-bottom:0.8125rem;}.css-xjzpx7 a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-xjzpx7 a:hover{opacity:0.8;}.css-xjzpx7 a.active{color:#3f20ba;pointer-events:none;}</style><style data-emotion-css="1dl06o9">.css-1dl06o9{height:14px;width:14px;vertical-align:-1px;margin-left:8px;color:#959DAA;}</style><style data-emotion-css="163gqpq">.css-163gqpq{overflow:visible;height:25px;height:14px;width:14px;vertical-align:-1px;margin-left:8px;color:#959DAA;}.css-163gqpq *{vector-effect:non-scaling-stroke;}</style><style data-emotion-css="136sss4">.css-136sss4{-webkit-letter-spacing:0.142em;-moz-letter-spacing:0.142em;-ms-letter-spacing:0.142em;letter-spacing:0.142em;text-transform:uppercase;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:12px;padding:4px 0;border:0;font-size:12px;font-weight:600;line-height:1;background:none;outline:none;cursor:pointer;color:inherit;}.css-136sss4:hover{opacity:0.8;}.css-136sss4 svg{height:12px;width:12px;margin-right:8px;}</style><style data-emotion-css="1a134qk">.css-1a134qk{overflow:visible;height:24px;}.css-1a134qk *{vector-effect:non-scaling-stroke;}</style><style data-emotion-css="1s7b6x">.css-1s7b6x{position:relative;z-index:0;}.css-1s7b6x .ea7mcww1{position:relative;z-index:2;}</style><style data-emotion-css="1k8zlns">.css-1k8zlns{height:100%;width:100%;cursor:pointer;position:absolute;top:0;left:0;opacity:0;z-index:1;}.css-1k8zlns:hover ~ .ea7mcww4{opacity:0.8;}.css-1k8zlns:not(:checked) ~ .ea7mcww4 svg{-webkit-transform:scaleY(-1);-ms-transform:scaleY(-1);transform:scaleY(-1);}.css-1k8zlns:not(:checked) ~ .ea7mcww1{display:none;}</style><style data-emotion-css="1q5wncs">.css-1q5wncs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px 0;color:#2F353F;font-weight:bold;font-size:14px;line-height:15px;-webkit-letter-spacing:0.142em;-moz-letter-spacing:0.142em;-ms-letter-spacing:0.142em;letter-spacing:0.142em;text-transform:uppercase;}.css-1q5wncs svg{height:10px;width:10px;}.css-1q5wncs.active{color:#3f20ba;}</style><style data-emotion-css="o3chs1">.css-o3chs1{position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;}</style><style data-emotion-css="oaxw1r">.css-oaxw1r{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:72px;padding:0 56px;background-color:white;}@media (max-width:850px){.css-oaxw1r{padding:0 24px;}}</style><style data-emotion-css="8jbk1d">.css-8jbk1d{display:none;}@media (max-width:850px){.css-8jbk1d{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:32px;color:#2F353F;}}</style><style data-emotion-css="1m6zll5">.css-1m6zll5{padding:20px;margin-left:-20px;color:inherit;border:none;background:none;outline:none;cursor:pointer;}</style><style data-emotion-css="1ihqbbj">.css-1ihqbbj{height:24px;width:24px;display:block;fill:currentColor;}</style><style data-emotion-css="yixxh9">.css-yixxh9{overflow:visible;height:24px;height:24px;width:24px;display:block;fill:currentColor;}.css-yixxh9 *{vector-effect:non-scaling-stroke;}</style><style data-emotion-css="2sza2b">.css-2sza2b{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;visibility:hidden;background-color:rgba(90,98,112,0.5);-webkit-transition-property:opacity,visibility;transition-property:opacity,visibility;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;z-index:1;}</style><style data-emotion-css="11m8mxx">.css-11m8mxx{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-right:40px;color:#5A6270;position:relative;z-index:1;}@media (max-width:850px){.css-11m8mxx{margin-right:0;}}.css-11m8mxx .algolia-autocomplete{width:100%;}.css-11m8mxx .algolia-autocomplete .ds-dropdown-menu{width:100%;max-width:100%;min-width:auto;margin-top:14px;border-radius:5px;box-shadow:rgba(0,0,0,0.1) 0 2px 12px;}.css-11m8mxx .algolia-autocomplete .ds-dropdown-menu::before{display:none;}.css-11m8mxx .algolia-autocomplete .ds-dropdown-menu [class^=ds-dataset-]{max-height:calc(100vh - 72px - 32px);padding:0;border:1px solid #959DAA;border-radius:inherit;}.css-11m8mxx .algolia-autocomplete .ds-dropdown-menu .ds-suggestions{margin-top:0;}.css-11m8mxx .algolia-autocomplete .ds-dropdown-menu .ds-suggestion{padding:20px 32px;border-bottom:1px solid #DEE2E7;}.css-11m8mxx .algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor{background-color:rgba(222,226,231,0.5);}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion{padding:0;color:inherit;background:none;-webkit-text-decoration:none;text-decoration:none;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--wrapper,.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column,.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--content{width:auto;float:none;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--wrapper{padding-top:0;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--category-header{margin-top:0;margin-bottom:4px;border-bottom:0;font-size:14px;color:inherit;-webkit-letter-spacing:0.142em;-moz-letter-spacing:0.142em;-ms-letter-spacing:0.142em;letter-spacing:0.142em;text-transform:uppercase;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column,.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--content{padding:0;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column::before,.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--content::before{display:none;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column{margin-bottom:4px;font-size:22px;color:#2F353F;text-align:initial;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--content{background:none !important;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--title{margin-bottom:0;font-size:18px;font-weight:normal;color:inherit;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--highlight{box-shadow:none !important;color:#3f20ba !important;background:none !important;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-suggestion--no-results{padding:32px;}.css-11m8mxx .algolia-autocomplete .algolia-docsearch-footer{margin:12px;}</style><style data-emotion-css="k2cxum wj1ntq">.css-k2cxum{background-color:#ffffff;border:solid 1px;border-color:#CAD0D8;border-radius:4px;-webkit-flex:1;-ms-flex:1;flex:1;height:42px;font-family:'Source Sans Pro',sans-serif;font-size:15px;line-height:1.53;margin-right:0;padding-left:12px;padding-right:12px;width:100%;}.css-k2cxum::-webkit-input-placeholder{color:#959DAA;opacity:1;}.css-k2cxum::-moz-placeholder{color:#959DAA;opacity:1;}.css-k2cxum:-ms-input-placeholder{color:#959DAA;opacity:1;}.css-k2cxum::placeholder{color:#959DAA;opacity:1;}.css-k2cxum:hover,.css-k2cxum[data-force-hover-state]{border-color:#959DAA;}.css-k2cxum:focus,.css-k2cxum[data-force-focus-state]{border-color:#74b0f4;outline:none;}.css-wj1ntq{padding-bottom:8px;font-family:'Source Sans Pro',sans-serif;font-size:15px;line-height:1.53;font-weight:600;}</style><style data-emotion-css="1xpfvf4">.css-1xpfvf4{margin-top:8px;position:relative;}</style><style data-emotion-css="15px644">.css-15px644{margin-top:8px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;}</style><style data-emotion-css="knt3s7">.css-knt3s7{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);height:24px;width:24px;border:1px solid #959DAA;border-color:#CAD0D8;color:#CAD0D8;border-radius:5px;text-align:center;line-height:1.125;right:10px;pointer-events:none;}</style><style data-emotion-css="3gq4g2">.css-3gq4g2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:240px;}@media (max-width:1120px){.css-3gq4g2{width:auto;margin-right:0;}}@media (max-width:850px){.css-3gq4g2{display:none;}}</style><style data-emotion-css="1aihuhw">.css-1aihuhw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#3f20ba;line-height:2;-webkit-text-decoration:none;text-decoration:none;}.css-1aihuhw:hover{color:#311c87;}</style><style data-emotion-css="lrbhy3">.css-lrbhy3{height:0.75em;margin-left:0.5em;}</style><style data-emotion-css="1y5m8da">.css-1y5m8da{overflow:visible;height:24px;height:0.75em;margin-left:0.5em;}.css-1y5m8da *{vector-effect:non-scaling-stroke;}</style><style data-emotion-css="ifkzhd">.css-ifkzhd{padding:40px 56px;padding-bottom:0;}@media (max-width:850px){.css-ifkzhd{padding:32px 48px;}}@media (max-width:600px){.css-ifkzhd{padding:24px 32px;}}</style><style data-emotion-css="cz947x">.css-cz947x:not(:last-child){margin-bottom:8px;}</style><style data-emotion-css="kfq87l">.css-kfq87l{color:#5A6270;}</style><style data-emotion-css="1yp4ln">.css-1yp4ln{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}</style><style data-emotion-css="dpzyr4">.css-dpzyr4{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;width:0;}.css-dpzyr4 .api-ref h4{margin-top:50px;}.css-dpzyr4 .api-ref h4 code{font-size:1.1em;}.css-dpzyr4 .api-ref *:not(pre) > code[class*="language-"]{padding:0;background:none;}</style><style data-emotion-css="2iuxmv">.css-2iuxmv a[href]:not([class]){color:#3f20ba;-webkit-text-decoration:none;text-decoration:none;}.css-2iuxmv a[href]:not([class]):hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-2iuxmv a[href]:not([class]) code{color:inherit;}.css-2iuxmv h1 code,.css-2iuxmv h2 code,.css-2iuxmv h3 code,.css-2iuxmv h4 code,.css-2iuxmv h5 code,.css-2iuxmv h6 code{white-space:normal;}.css-2iuxmv h1 a,.css-2iuxmv h2 a,.css-2iuxmv h3 a,.css-2iuxmv h4 a,.css-2iuxmv h5 a,.css-2iuxmv h6 a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-2iuxmv h1 a:hover,.css-2iuxmv h2 a:hover,.css-2iuxmv h3 a:hover,.css-2iuxmv h4 a:hover,.css-2iuxmv h5 a:hover,.css-2iuxmv h6 a:hover{color:#5A6270;}.css-2iuxmv *:not(style) + h2,.css-2iuxmv *:not(style) + h3,.css-2iuxmv *:not(style) + h4{margin-top:-16px;padding-top:72px;}.css-2iuxmv img{display:block;max-width:100%;margin:0 auto;}.css-2iuxmv .mermaid svg{max-width:100%;}</style><style data-emotion-css="1gcd36t">.css-1gcd36t{margin-bottom:1.45rem;border:1px solid #DEE2E7;border-radius:4px;}</style><style data-emotion-css="j1ow3a">.css-j1ow3a{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding:10px;border-bottom:1px solid #DEE2E7;}</style><style data-emotion-css="r8v8pb">.css-r8v8pb{padding:15px;background-color:#F4F6F8;overflow:auto;}</style><style data-emotion-css="1f6gfyy">.css-1f6gfyy{display:none;margin-top:48px;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}@media (max-width:1120px){.css-1f6gfyy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media (max-width:850px){.css-1f6gfyy{display:none;}}@media (max-width:600px){.css-1f6gfyy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:24px;}}</style><style data-emotion-css="rntvij">.css-rntvij{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:0;}.css-rntvij:not(:last-child){margin-bottom:16px;}</style><style data-emotion-css="1keuqhy">.css-1keuqhy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#5A6270;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}.css-1keuqhy:hover{color:#959DAA;}.css-1keuqhy svg{width:20px;height:20px;margin-right:6px;fill:currentColor;}</style><style data-emotion-css="k9tv6n">.css-k9tv6n{overflow:visible;height:26px;}.css-k9tv6n *{vector-effect:non-scaling-stroke;}</style><style data-emotion-css="9ckfit">.css-9ckfit{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:64px 0;}@media (max-width:850px){.css-9ckfit{padding:32px 0;}}</style><style data-emotion-css="spe9v1">.css-spe9v1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-spe9v1 svg{height:16px;width:16px;}.css-spe9v1:hover{opacity:0.8;}</style><style data-emotion-css="16mhdhi">.css-16mhdhi{margin-left:24px;text-align:left;}@media (max-width:850px){.css-16mhdhi{margin-left:16px;}}</style><style data-emotion-css="1vhhq4p">.css-1vhhq4p{-webkit-letter-spacing:0.142em;-moz-letter-spacing:0.142em;-ms-letter-spacing:0.142em;letter-spacing:0.142em;text-transform:uppercase;font-size:12px;}</style><style data-emotion-css="mtbysh">.css-mtbysh{color:#2F353F;}</style><style data-emotion-css="18eg9eb">.css-18eg9eb{margin-right:24px;text-align:right;}@media (max-width:850px){.css-18eg9eb{margin-right:16px;}}</style><style data-emotion-css="u6jpbo">.css-u6jpbo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:240px;max-height:calc(100vh - 72px);margin-top:-36px;padding:40px 0;margin-left:40px;position:-webkit-sticky;position:sticky;top:72px;}@media (max-width:1120px){.css-u6jpbo{display:none;}}@media (max-width:850px){.css-u6jpbo{display:block;}}@media (max-width:600px){.css-u6jpbo{display:none;}}</style><style data-emotion-css="35ezg3">.css-35ezg3{font-weight:600;}</style><style data-emotion-css="1b603mp">.css-1b603mp{margin-left:0;margin-bottom:48px;overflow:auto;}</style><style data-emotion-css="1h656g5">.css-1h656g5{list-style:none;font-size:1rem;line-height:inherit;}.css-1h656g5.active{color:#3f20ba;font-weight:bold;}.css-1h656g5 a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-1h656g5 a:hover{opacity:0.8;}</style><style data-emotion-css="12zcwkl">.css-12zcwkl{width:100%;height:100%;background-color:rgba(90,98,112,0.5);overflow:auto;position:fixed;top:0;left:0;z-index:3;-webkit-perspective:1000px;-moz-perspective:1000px;-ms-perspective:1000px;perspective:1000px;-webkit-transition-property:opacity,visibility;transition-property:opacity,visibility;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;}</style><style data-emotion-css="10dh5mk">.css-10dh5mk{margin-bottom:24px;border-radius:4px;box-shadow:rgba(0,0,0,0.1) 0 2px 12px;background-color:white;overflow:hidden;position:absolute;-webkit-transform-origin:25% 25%;-ms-transform-origin:25% 25%;transform-origin:25% 25%;-webkit-transition:-webkit-transform 150ms ease-in-out;-webkit-transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out;outline:none;}</style><style data-emotion-css="1d3ruj1">.css-1d3ruj1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-writing-mode:vertical-lr;-ms-writing-mode:tb;writing-mode:vertical-lr;margin:12px;height:240px;padding-top:15px;}@media (max-width:850px){.css-1d3ruj1{height:auto;width:300px;}}</style><style data-emotion-css="120ki2j">.css-120ki2j{display:block;width:220px;-webkit-writing-mode:horizontal-tb;-ms-writing-mode:lr;writing-mode:horizontal-tb;}@media (max-width:850px){.css-120ki2j{width:100%;}}</style><style data-emotion-css="bm3qgz">.css-bm3qgz{-webkit-letter-spacing:0.142em;-moz-letter-spacing:0.142em;-ms-letter-spacing:0.142em;letter-spacing:0.142em;text-transform:uppercase;margin-left:12px;margin-bottom:0;font-size:13px;font-weight:600;color:#959DAA;}</style><style data-emotion-css="12dbaiq">.css-12dbaiq{margin:0;margin-bottom:20px;}</style><style data-emotion-css="1covni">.css-1covni{list-style:none;margin:2px;margin-left:3px;}</style><style data-emotion-css="mne644">.css-mne644{display:block;height:100%;padding:8px;border-radius:4px;-webkit-text-decoration:none;text-decoration:none;background-color:transparent;-webkit-transition-property:color,background-color;transition-property:color,background-color;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;}@media (hover:hover){.css-mne644:hover{background-color:#d9cfff;}.css-mne644:hover h4{color:#3f20ba;}}</style><style data-emotion-css="12yi4b2">.css-12yi4b2{margin-bottom:0;font-weight:600;color:#2F353F;}</style><style data-emotion-css="1we5kcv">.css-1we5kcv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 24px;background-color:#F4F6F8;}@media (max-width:850px){.css-1we5kcv{display:block;}}</style><style data-emotion-css="16cjsrx">.css-16cjsrx{color:#5A6270;-webkit-text-decoration:none;text-decoration:none;}.css-16cjsrx:hover{color:#959DAA;}.css-16cjsrx:not(:last-child){margin-right:24px;}</style><style data-emotion-css="gdccfg">.css-gdccfg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:auto;}@media (max-width:850px){.css-gdccfg{margin-top:8px;}}</style><style data-emotion-css="1u52uy1">.css-1u52uy1{color:#5A6270;}.css-1u52uy1:hover{color:#959DAA;}.css-1u52uy1:not(:last-child){margin-right:24px;}.css-1u52uy1 svg{height:24px;width:24px;display:block;fill:currentColor;}</style><style data-emotion-css="1a134qk">.css-1a134qk{overflow:visible;height:24px;}.css-1a134qk *{vector-effect:non-scaling-stroke;}</style><style type="text/css">#ffiframe {
    border: 0;
    z-index: 9999;
    overflow: hidden;
}

.ffiframe-side-sticky {
    position: fixed;
    right: -8px;
    top: 30%;
}
.ffiframe-side-sticky-closed {
    height: 140px;
    width: 50px;
}
.ffiframe-side-sticky-open {
    width: 410px;
}
@media screen and (max-width: 576px) {
    .ffiframe-side-sticky-open {
        width: 100%;
    }
}

.ffiframe-bottom-sticky {
    height: 0px;
    width: 475px;
    position: fixed;
    bottom: 0px;
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
}
@media screen and (max-width: 576px) {
    .ffiframe-bottom-sticky {
        left: 0;
        -webkit-transform: translateX(0%);
        transform: translateX(0%);
        width: 100% !important;
    }
}

.ffiframe-inline {
    height: 210px;
    width: 100% !important;
}
</style><link rel="prefetch" href="https://www.apollographql.com/docs/apollo-server/page-data/performance/caching/page-data.json" crossorigin="anonymous" as="fetch"><link rel="prefetch" href="https://www.apollographql.com/docs/apollo-server/page-data/performance/apq/page-data.json" crossorigin="anonymous" as="fetch"><link rel="prefetch" href="https://www.apollographql.com/docs/apollo-server/page-data/getting-started/page-data.json" crossorigin="anonymous" as="fetch"><link rel="prefetch" href="https://www.apollographql.com/docs/apollo-server/page-data/index/page-data.json" crossorigin="anonymous" as="fetch"><link rel="prefetch" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/component---node-modules-gatsby-theme-apollo-docs-src-components-template-js-87fdbf97562b7d15efb1.js"><link rel="prefetch" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/component---node-modules-gatsby-theme-apollo-docs-src-components-template-js-87fdbf97562b7d15efb1.js"><link rel="prefetch" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/component---node-modules-gatsby-theme-apollo-docs-src-components-template-js-87fdbf97562b7d15efb1.js"><link rel="prefetch" href="./Caching - Apollo Server - Apollo GraphQL Docs_files/component---node-modules-gatsby-theme-apollo-docs-src-components-template-js-87fdbf97562b7d15efb1.js"></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="css-bzzyjq exdt29b0"><aside class="css-1bs7gxh ezgpdot1"><div class="css-7ieosi ezgpdot2"><a href="https://www.apollographql.com/docs/" class="css-gbkvvb ezgpdot3"><div class="css-1vndmh4 eetev6l0"><svg viewBox="0 0 979 293" class="eetev6l1 css-5i1btw"><g fill="currentColor" fill-rule="nonzero"><path d="M159.4 83.1H130L87.5 195.4h26.6l6.9-19h40.1l-7.3-21h-26.4l17.2-48.3 30.6 88.4h26.6zM606.3 195.3V83.1H630v91.2h46.6v21zM742.6 195.3V83.1h23.6v91.2h46.6v21zM475.4 103.2c19.5 0 35.5 16.2 35.5 36.1 0 19.9-15.9 36.1-35.5 36.1-19.5 0-35.4-16.2-35.4-36.1 0-19.9 15.9-36.1 35.4-36.1zm0-22c-31.5 0-57 26-57 58.1s25.5 58.1 57 58.1 57-26 57-58.1-25.5-58.1-57-58.1zM921.5 103.2c19.6 0 35.5 16.2 35.5 36.1 0 19.9-15.9 36.1-35.5 36.1-19.5 0-35.4-16.2-35.4-36.1-.1-19.9 15.8-36.1 35.4-36.1zm0-22c-31.5 0-57 26-57 58.1s25.5 58.1 57 58.1 57-26 57-58.1-25.5-58.1-57-58.1zM322 83.1h-51.4v112.3h23.5v-38.6H322c19.6 0 35.5-16.9 35.5-36.8 0-20.1-15.9-36.9-35.5-36.9zm0 51.6h-27.9V105H322c7.7 0 13.9 7 13.9 14.8 0 7.9-6.2 14.9-13.9 14.9z"></path><path d="M250.4 229.4c-2 0-3.8 1-4.9 2.6 0 0-5.3 6.2-8.2 9.1-12.1 12.3-26.1 21.9-41.8 28.7-16.2 7-33.4 10.5-51.2 10.5-17.8 0-35-3.5-51.2-10.5-15.6-6.8-29.7-16.5-41.8-28.8-12.1-12.3-21.6-26.6-28.2-42.6-6.9-16.5-10.3-34-10.3-52.1s3.5-35.6 10.3-52.1c6.6-15.9 16.1-30.3 28.2-42.6 12.1-12.3 26.1-22 41.8-28.7 16.2-7 33.4-10.5 51.2-10.5 17.8 0 35 3.5 51.2 10.5 11.4 4.9 22 11.4 31.5 19.3-.5 1.5-.8 3.2-.8 4.9 0 8.3 6.6 15.1 14.8 15.1 8.2 0 14.8-6.8 14.8-15.1S249.2 32 241 32c-2 0-4 .4-5.7 1.2C210.5 12.5 178.8.1 144.3.1 65 .2.7 65.6.7 146.4c0 80.8 64.3 146.2 143.6 146.2 44.4 0 84-20.5 110.4-52.7 1.1-1.1 1.8-2.7 1.8-4.4-.1-3.4-2.8-6.1-6.1-6.1z"></path></g></svg><svg viewBox="0 0 48 16" class="css-iqx1fs eetev6l2"><path d="M2.564 0h42.192c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v10.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267H2.563c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 01-.757-.756C.093 14.65 0 14.327 0 13.437V2.563c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757C1.35.093 1.673 0 2.563 0z" fill="#ebe6ff"></path><g fill="#3f20ba"><path d="M6.893 4.363c2.299 0 3.894 1.463 3.894 3.663 0 2.222-1.595 3.674-3.883 3.674H4V4.363zm.011 1.375H5.562v4.587h1.331c1.452 0 2.299-1.045 2.299-2.299 0-1.287-.792-2.288-2.288-2.288zM30.477 11.832c1.606 0 2.541-.891 3.058-1.804l-1.342-.649c-.308.594-.968 1.067-1.716 1.067-1.342 0-2.31-1.023-2.31-2.409s.968-2.409 2.31-2.409c.748 0 1.408.473 1.716 1.067l1.342-.66c-.517-.924-1.452-1.793-3.058-1.793-2.211 0-3.916 1.529-3.916 3.795 0 2.255 1.705 3.795 3.916 3.795zM40.388 11.832c1.969 0 2.937-1.012 2.937-2.354 0-2.739-4.213-1.958-4.213-3.113 0-.44.374-.726 1.034-.726.748 0 1.54.253 2.134.803l.869-1.166c-.726-.671-1.694-1.023-2.86-1.023-1.727 0-2.783 1.012-2.783 2.233 0 2.761 4.224 1.87 4.224 3.146 0 .429-.407.814-1.276.814a3.224 3.224 0 01-2.332-1.001l-.858 1.221c.693.693 1.705 1.166 3.124 1.166zM18.715 5.682c1.278 0 2.314 1.061 2.314 2.365 0 1.304-1.036 2.366-2.314 2.366-1.27 0-2.307-1.062-2.307-2.366-.007-1.304 1.03-2.365 2.307-2.365zm0-1.442C16.662 4.24 15 5.944 15 8.047c0 2.104 1.662 3.807 3.715 3.807s3.715-1.703 3.715-3.807c0-2.103-1.662-3.807-3.715-3.807z"></path></g></svg></div></a></div><div class="sidebar"><span class="css-4ddkzq efh8xek5"><div class="css-i9gxme efh8xek1"><button style="display:flex" class="css-3lqork efh8xek2 css-y0nxrj"><span class="title-sidebar">Apollo Server</span><svg viewBox="0 0 24 24" class="efh8xek3 css-zmqicx"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M2.25.747h6a1.5 1.5 0 0 1 1.5 1.5v6a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5v-6a1.5 1.5 0 0 1 1.5-1.5zM2.25 14.247h6a1.5 1.5 0 0 1 1.5 1.5v6a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5v-6a1.5 1.5 0 0 1 1.5-1.5zM15.75.747h6a1.5 1.5 0 0 1 1.5 1.5v6a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5v-6a1.5 1.5 0 0 1 1.5-1.5zM15.75 14.247h6a1.5 1.5 0 0 1 1.5 1.5v6a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5v-6a1.5 1.5 0 0 1 1.5-1.5z"></path></g></svg></button></div><div class="css-79elbk e1azhpec0" style="margin-left:8px"><button class="css-hga22n"><div style="height:20px" class="css-79elbk e1azhpec4"><div class="css-gyp8mm e1azhpec5">v2</div><div class="css-gyp8mm e1azhpec5">v1</div><div class="css-v0jgcu e1azhpec6">v2</div></div><svg viewBox="0 0 24 24" class="e1azhpec1 css-z27mee"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M23.25 7.311L12.53 18.03a.749.749 0 0 1-1.059.001l-.001-.001L.75 7.311"></path></svg></button></div></span><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/">Introduction</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/getting-started/">Get started with Apollo Server</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://github.com/apollographql/apollo-server/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer">Changelog<svg viewBox="0 0 25 25" class="ea7mcww7 css-163gqpq"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.141 4.894H3.576A1.977 1.977 0 0 0 1.6 6.871v14.494c0 1.09.885 1.976 1.976 1.976h14.495a1.977 1.977 0 0 0 1.976-1.976V12.8M17.412 1.6h4.94a.99.99 0 0 1 .99.988V7.53m-10.883 4.952L23.05 1.89"></path></svg></a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/federation/" target="_blank" rel="noopener noreferrer">Apollo Federation<svg viewBox="0 0 25 25" class="ea7mcww7 css-163gqpq"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.141 4.894H3.576A1.977 1.977 0 0 0 1.6 6.871v14.494c0 1.09.885 1.976 1.976 1.976h14.495a1.977 1.977 0 0 0 1.976-1.976V12.8M17.412 1.6h4.94a.99.99 0 0 1 .99.988V7.53m-10.883 4.952L23.05 1.89"></path></svg></a></li></ul><button class="css-136sss4 ea7mcww0"><svg viewBox="0 0 24 24" class="css-1a134qk"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M3.75 15l7.72 7.72a.75.75 0 0 0 1.06 0L20.25 15M3.75 9l7.72-7.72a.749.749 0 0 1 1.059-.001l.001.001L20.25 9"></path></g></svg>Expand<!-- --> all</button><div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="Defining a Schema" class="css-1k8zlns ea7mcww6"><div class="css-1q5wncs ea7mcww4">Defining a Schema<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/schema/schema/">Schema basics</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Add custom scalar and enum types to a schema." href="https://www.apollographql.com/docs/apollo-server/schema/scalars-enums/">Custom scalars and enums</a></li><li class="css-xjzpx7 ea7mcww2"><a title="How to add unions and interfaces to a schema" href="https://www.apollographql.com/docs/apollo-server/schema/unions-interfaces/">Unions and interfaces</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Using schema directives to transform schema types, fields, and arguments" href="https://www.apollographql.com/docs/apollo-server/schema/directives/">Using schema directives</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Implementing custom directives to transform schema types, fields, and arguments" href="https://www.apollographql.com/docs/apollo-server/schema/creating-directives/">Implementing directives</a></li></ul></div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="Fetching Data" class="css-1k8zlns ea7mcww6"><div class="css-1q5wncs ea7mcww4">Fetching Data<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a title="How Apollo Server processes GraphQL operations" href="https://www.apollographql.com/docs/apollo-server/data/resolvers/">Resolvers</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Caching Partial Query Results" href="https://www.apollographql.com/docs/apollo-server/data/data-sources/">Data sources</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Making errors actionable on the client and server" href="https://www.apollographql.com/docs/apollo-server/data/errors/">Error handling</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Enabling file uploads in Apollo Server" href="https://www.apollographql.com/docs/apollo-server/data/file-uploads/">File uploads</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/data/subscriptions/">Subscriptions</a></li></ul></div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="Testing" class="css-1k8zlns ea7mcww6"><div class="css-1q5wncs ea7mcww4">Testing<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a title="Mock your GraphQL data based on a schema." href="https://www.apollographql.com/docs/apollo-server/testing/mocking/">Mocking</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Utilities for testing Apollo Server" href="https://www.apollographql.com/docs/apollo-server/testing/testing/">Integration testing</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Visually explore Apollo Server" href="https://www.apollographql.com/docs/apollo-server/testing/graphql-playground/">GraphQL Playground</a></li></ul></div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="Performance" class="css-1k8zlns ea7mcww6" checked=""><div class="active css-1q5wncs ea7mcww4">Performance<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a aria-current="page" class="active" title="Automatically set HTTP cache headers and save full responses in a cache." href="https://www.apollographql.com/docs/apollo-server/performance/caching/">Caching</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Improve network performance by sending smaller requests" href="https://www.apollographql.com/docs/apollo-server/performance/apq/">Automatic persisted queries</a></li></ul></div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="Security" class="css-1k8zlns ea7mcww6"><div class="css-1q5wncs ea7mcww4">Security<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a title="How to authorize users and control permissions in your GraphQL API" href="https://www.apollographql.com/docs/apollo-server/security/authentication/">Authentication</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/security/terminating-ssl/">Terminating SSL</a></li></ul></div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="Integrations" class="css-1k8zlns ea7mcww6"><div class="css-1q5wncs ea7mcww4">Integrations<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a title="Use Apollo Server with Express, Koa, and more" href="https://www.apollographql.com/docs/apollo-server/integrations/middleware/">Node.js middleware</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Extend Apollo Server with custom functionality" href="https://www.apollographql.com/docs/apollo-server/integrations/plugins/">Plugins</a></li></ul></div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="Deployment" class="css-1k8zlns ea7mcww6"><div class="css-1q5wncs ea7mcww4">Deployment<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a title="Deploying your GraphQL server to Heroku" href="https://www.apollographql.com/docs/apollo-server/deployment/heroku/">Heroku</a></li><li class="css-xjzpx7 ea7mcww2"><a title="How to deploy Apollo Server with AWS Lambda" href="https://www.apollographql.com/docs/apollo-server/deployment/lambda/">Lambda</a></li><li class="css-xjzpx7 ea7mcww2"><a title="How to run your API using Netlify Functions on AWS Lambda" href="https://www.apollographql.com/docs/apollo-server/deployment/netlify/">Netlify</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Deploying your GraphQL server to Azure Functions" href="https://www.apollographql.com/docs/apollo-server/deployment/azure-functions/">Azure Functions</a></li></ul></div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="Monitoring" class="css-1k8zlns ea7mcww6"><div class="css-1q5wncs ea7mcww4">Monitoring<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a title="How to monitor Apollo Server&#39;s performance" href="https://www.apollographql.com/docs/apollo-server/monitoring/metrics/">Metrics and logging</a></li><li class="css-xjzpx7 ea7mcww2"><a title="Determining the health status of the Apollo Server" href="https://www.apollographql.com/docs/apollo-server/monitoring/health-checks/">Health checks</a></li></ul></div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="API Reference" class="css-1k8zlns ea7mcww6"><div class="css-1q5wncs ea7mcww4">API Reference<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/api/apollo-server/">apollo-server</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/api/plugin/usage-reporting/">ApolloServerPluginUsageReporting</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/api/plugin/schema-reporting/">ApolloServerPluginSchemaReporting</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/api/plugin/inline-trace/">ApolloServerPluginInlineTrace</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/api/graphql-tools/">graphql-tools</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/federation/api/apollo-federation/" target="_blank" rel="noopener noreferrer">@apollo/federation<svg viewBox="0 0 25 25" class="ea7mcww7 css-163gqpq"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.141 4.894H3.576A1.977 1.977 0 0 0 1.6 6.871v14.494c0 1.09.885 1.976 1.976 1.976h14.495a1.977 1.977 0 0 0 1.976-1.976V12.8M17.412 1.6h4.94a.99.99 0 0 1 .99.988V7.53m-10.883 4.952L23.05 1.89"></path></svg></a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/federation/api/apollo-gateway/" target="_blank" rel="noopener noreferrer">@apollo/gateway<svg viewBox="0 0 25 25" class="ea7mcww7 css-163gqpq"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.141 4.894H3.576A1.977 1.977 0 0 0 1.6 6.871v14.494c0 1.09.885 1.976 1.976 1.976h14.495a1.977 1.977 0 0 0 1.976-1.976V12.8M17.412 1.6h4.94a.99.99 0 0 1 .99.988V7.53m-10.883 4.952L23.05 1.89"></path></svg></a></li></ul></div><div class="css-1s7b6x ea7mcww3"><input type="checkbox" value="Appendices" class="css-1k8zlns ea7mcww6"><div class="css-1q5wncs ea7mcww4">Appendices<svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.75 17.189L11.47 6.47a.749.749 0 0 1 1.059-.001l.001.001 10.72 10.719"></path></svg></div><ul class="css-1kjoysr ea7mcww1"><li class="css-xjzpx7 ea7mcww2"><a title="Configuring proxy settings for outgoing requests" href="https://www.apollographql.com/docs/apollo-server/proxy-configuration/">Proxy configuration</a></li><li class="css-xjzpx7 ea7mcww2"><a title="How to migrate to Apollo Server 2.0" href="https://www.apollographql.com/docs/apollo-server/migration-two-dot/">Migrating to v2.0</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/migration-file-uploads/">File uploads in Node.js &lt; v8.5.0</a></li><li class="css-xjzpx7 ea7mcww2"><a href="https://www.apollographql.com/docs/apollo-server/migration-engine-plugins/">Migrating from the "engine" option</a></li></ul></div></div></div></aside><main class="css-i9gxme efh8xek0"><header class="css-o3chs1 edldhn50"><div class="css-oaxw1r edldhn51"><div class="css-8jbk1d efh8xek4"><button class="css-1m6zll5 e1qf1exz0"><svg viewBox="0 0 24 24" class="e1qf1exz1 css-yixxh9"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M2.25 18.003h19.5M2.25 12.003h19.5M2.25 6.003h19.5"></path></g></svg></button><svg viewBox="0 0 200 200" width="32" fill="currentColor"><path d="M112.246 49H88.003L53 139.848h21.927l5.721-15.393h33.076l-5.989-17.024H85.961l14.164-39.091 25.199 71.508h21.928z"></path><path d="M196.313 73.038a4.991 4.991 0 00-.256-.897c-.027-.1-.12-.285-.12-.285a4.993 4.993 0 00-4.538-2.914 5 5 0 00-5 5c0 .562.098 1.1.268 1.603l-.014.005a90.354 90.354 0 013.346 24.451c0 24.039-9.362 46.641-26.359 63.64-16.999 17-39.6 26.36-63.64 26.36-24.039 0-46.642-9.362-63.639-26.36C19.36 146.642 10 124.04 10 100.001c0-24.04 9.362-46.641 26.361-63.64 16.997-17 39.6-26.36 63.639-26.36 21.466 0 41.781 7.47 57.987 21.173a12.218 12.218 0 00-.848 4.474c0 6.751 5.472 12.221 12.224 12.221 6.75 0 12.223-5.47 12.223-12.221s-5.473-12.224-12.223-12.224c-1.473 0-2.884.26-4.192.737C147.666 9.107 124.9 0 100 0 44.771 0 0 44.772 0 100.001c0 55.229 44.771 100.001 100 100.001s100-44.771 100-100.001c0-9.342-1.291-18.384-3.687-26.963z"></path></svg></div><div class="css-2sza2b e1vsvaua2"></div><div class="css-11m8mxx e1vsvaua1"><div><label class="css-wj1ntq"><div class="css-1xpfvf4"><span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;"><input type="search" id="input" style="font-size: 16px; box-shadow: none; position: relative; vertical-align: top;" placeholder="Search Apollo Docs" value="" class="css-k2cxum ds-input" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="search input" aria-owns="algolia-autocomplete-listbox-0" dir="auto"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: &quot;Source Sans Pro&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;"><div class="ds-dataset-1"></div></span></span></div></label><div class="css-15px644"></div></div><div class="css-knt3s7 e1vsvaua0">/</div></div><div class="css-3gq4g2 e1nk4tvb0"><a href="https://studio.apollographql.com/?utm_source=docs-button" target="_blank" rel="noopener noreferrer" class="css-1aihuhw e1nk4tvb1">Launch Apollo Studio<svg viewBox="0 0 24 24" class="e1nk4tvb2 css-1y5m8da"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"><path d="M.75 12h22.5M12.75 1.5L23.25 12l-10.5 10.5"></path></g></svg></a></div></div></header><div class="css-ifkzhd ernxcdh0"><div class="header-wrapper"><h1 class="css-cz947x ei8t6h40">Caching</h1><h3 class="css-kfq87l ei8t6h41">Automatically set HTTP cache headers and save full responses in a cache.</h3></div><hr><div class="css-1yp4ln e694h6z0"><div class="css-dpzyr4 e694h6z1"><div class="content-wrapper css-2iuxmv e694h6z2"><div><p>Production apps often rely on caching for scalability.</p>
<p>A single GraphQL request consists of running many different resolvers, each of which can have different caching semantics. Some fields may be uncacheable. Some fields may be cacheable for a few seconds, and others for a few hours. Some fields may have values that are the same for all users of your app, and other fields may vary based on the current session.</p>
<p>Apollo Server provides a mechanism for server authors to declare fine-grained cache control parameters on individual GraphQL types and fields, both statically inside your schema using the <code class="language-text">@cacheControl</code> directive and dynamically within your resolvers using the <code class="language-text">info.cacheControl.setCacheHint</code> API.</p>
<p>For each request, Apollo Server combines all the cache hints from all the queried fields and uses it to power several caching features. These features include <strong>HTTP caching headers</strong> for CDNs and browsers, and a GraphQL <strong>full response cache</strong>.</p>
<h2 id="defining-cache-hints" style="position:relative"><a class="headingLink" href="https://www.apollographql.com/docs/apollo-server/performance/caching/#defining-cache-hints">Defining cache hints</a></h2>
<p>You can define cache hints <em>statically</em> in your schema and <em>dynamically</em> in your resolvers.</p>
<blockquote>
<p><strong>Important note on compatibility:</strong> Setting cache hints is currently incompatible with the <code class="language-text">graphql-tools</code> implementation of schema stitching, because cache hints are not appropriately communicated from one service to the other.</p>
</blockquote>
<h3 id="adding-cache-hints-statically-in-your-schema" style="position:relative"><a class="headingLink" href="https://www.apollographql.com/docs/apollo-server/performance/caching/#adding-cache-hints-statically-in-your-schema">Adding cache hints statically in your schema</a></h3>
<p>The easiest way to add cache hints is directly in your schema using the <code class="language-text">@cacheControl</code> directive. Apollo Server automatically adds the definition of the <code class="language-text">@cacheControl</code> directive to your schema when you create a new <code class="language-text">ApolloServer</code> object with <code class="language-text">typeDefs</code> and <code class="language-text">resolvers</code>. Hints look like this:</p>
<div class="gatsby-highlight" data-language="graphql"><div class="css-1gcd36t e1ulzjg70"><div class="css-j1ow3a e1ulzjg71"><button class="css-hga22n">Copy</button></div><div class="css-r8v8pb e1ulzjg73"><pre style="counter-reset:linenumber NaN" class="language-graphql line-numbers"><code class="language-graphql"><span class="token keyword">type</span> <span class="token class-name">Post</span> <span class="token directive function">@cacheControl</span><span class="token punctuation">(</span><span class="token attr-name">maxAge</span><span class="token punctuation">:</span> <span class="token number">240</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token attr-name">id</span><span class="token punctuation">:</span> Int<span class="token operator">!</span>
  <span class="token attr-name">title</span><span class="token punctuation">:</span> String
  <span class="token attr-name">author</span><span class="token punctuation">:</span> Author
  <span class="token attr-name">votes</span><span class="token punctuation">:</span> Int <span class="token directive function">@cacheControl</span><span class="token punctuation">(</span><span class="token attr-name">maxAge</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span>
  <span class="token attr-name">comments</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Comment<span class="token punctuation">]</span>
  <span class="token attr-name">readByCurrentUser</span><span class="token punctuation">:</span> Boolean<span class="token operator">!</span> <span class="token directive function">@cacheControl</span><span class="token punctuation">(</span><span class="token attr-name">scope</span><span class="token punctuation">:</span> <span class="token constant">PRIVATE</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Comment</span> <span class="token directive function">@cacheControl</span><span class="token punctuation">(</span><span class="token attr-name">maxAge</span><span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token attr-name">post</span><span class="token punctuation">:</span> Post<span class="token operator">!</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Query</span> <span class="token punctuation">{</span>
  <span class="token attr-name">latestPost</span><span class="token punctuation">:</span> Post <span class="token directive function">@cacheControl</span><span class="token punctuation">(</span><span class="token attr-name">maxAge</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div></div>
<p>You can apply <code class="language-text">@cacheControl</code> to an individual field or to a type.</p>
<p>Hints on a field describe the cache policy for that field itself; for example, <code class="language-text">Post.votes</code> can be cached for 30 seconds.</p>
<p>Hints on a type apply to all fields that <em>return</em> objects of that type (possibly wrapped in lists and non-null specifiers). For example, the hint <code class="language-text">@cacheControl(maxAge: 240)</code> on <code class="language-text">Post</code> applies to the field <code class="language-text">Comment.post</code>, and the hint <code class="language-text">@cacheControl(maxAge:1000)</code> on <code class="language-text">Comment</code> applies to the field <code class="language-text">Post.comments</code>.</p>
<p>Hints on fields override hints specified on the target type. For example, the hint <code class="language-text">@cacheControl(maxAge: 10)</code> on <code class="language-text">Query.latestPost</code> takes precedence over the hint <code class="language-text">@cacheControl(maxAge: 240)</code> on <code class="language-text">Post</code>.</p>
<p>See <a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#setting-a-default-maxage">below</a> for the semantics of fields which don't have <code class="language-text">maxAge</code> set on them (statically or dynamically).</p>
<p><code class="language-text">@cacheControl</code> can specify <code class="language-text">maxAge</code> (in seconds, like in an HTTP <code class="language-text">Cache-Control</code> header) and <code class="language-text">scope</code>, which can be <code class="language-text">PUBLIC</code> (the default) or <code class="language-text">PRIVATE</code>.</p>
<h3 id="adding-cache-hints-dynamically-in-your-resolvers" style="position:relative"><a class="headingLink" href="https://www.apollographql.com/docs/apollo-server/performance/caching/#adding-cache-hints-dynamically-in-your-resolvers">Adding cache hints dynamically in your resolvers</a></h3>
<p>If you won't know if a field is cacheable until you've actually resolved it, you can use the dynamic API to set hints in your resolvers:</p>
<div class="gatsby-highlight" data-language="javascript"><div class="css-1gcd36t e1ulzjg70"><div class="css-j1ow3a e1ulzjg71"><button class="css-hga22n">Copy</button></div><div class="css-r8v8pb e1ulzjg73"><pre style="counter-reset:linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> resolvers <span class="token operator">=</span> <span class="token punctuation">{</span>
  Query<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">post</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span><span class="token punctuation">,</span> _<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      info<span class="token punctuation">.</span>cacheControl<span class="token punctuation">.</span><span class="token function">setCacheHint</span><span class="token punctuation">(</span><span class="token punctuation">{</span> maxAge<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span> scope<span class="token operator">:</span> <span class="token string">'PRIVATE'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span>posts<span class="token punctuation">,</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div></div>
<p>If you're using TypeScript, you need the following to teach TypeScript that the GraphQL <code class="language-text">info</code> object has a <code class="language-text">cacheControl</code> field:</p>
<div class="gatsby-highlight" data-language="javascript"><div class="css-1gcd36t e1ulzjg70"><div class="css-j1ow3a e1ulzjg71"><button class="css-hga22n">Copy</button></div><div class="css-r8v8pb e1ulzjg73"><pre style="counter-reset:linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'apollo-cache-control'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div></div></div>
<h3 id="setting-a-default-maxage" style="position:relative"><a class="headingLink" href="https://www.apollographql.com/docs/apollo-server/performance/caching/#setting-a-default-maxage">Setting a default <code class="language-text">maxAge</code></a></h3>
<p>By default, root fields (ie, fields on <code class="language-text">Query</code> and <code class="language-text">Mutation</code>) and fields returning object and interface types are considered to have a <code class="language-text">maxAge</code> of 0 (ie, uncacheable) if they don't have a static or dynamic cache hint. (Non-root scalar fields inherit their cacheability from their parent, so that in the common case of an object type with a bunch of strings and numbers which all have the same cacheability, you just need to declare the hint on the object type.)</p>
<p>The power of cache hints comes from being able to set them precisely to different values on different types and fields based on your understanding of your implementation's semantics. But when getting started with the cache control API, you might just want to apply the same <code class="language-text">maxAge</code> to most of your resolvers.</p>
<p>You can achieve this by specifying a default max age when you create your <code class="language-text">ApolloServer</code>. This max age will be used instead of 0 for root, object, and interface fields which don't explicitly set <code class="language-text">maxAge</code> via schema hints (including schema hints on the type that they return) or the dynamic API. You can override this for a particular resolver or type by setting <code class="language-text">@cacheControl(maxAge: 0)</code>. For example:</p>
<div class="gatsby-highlight" data-language="javascript"><div class="css-1gcd36t e1ulzjg70"><div class="css-j1ow3a e1ulzjg71"><button class="css-hga22n">Copy</button></div><div class="css-r8v8pb e1ulzjg73"><pre style="counter-reset:linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApolloServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  cacheControl<span class="token operator">:</span> <span class="token punctuation">{</span>
    defaultMaxAge<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div></div>
<h3 id="the-overall-cache-policy" style="position:relative"><a class="headingLink" href="https://www.apollographql.com/docs/apollo-server/performance/caching/#the-overall-cache-policy">The overall cache policy</a></h3>
<p>Apollo Server's cache API lets you declare fine-grained cache hints on specific resolvers. Apollo Server then combines these hints into an overall cache policy for the response. The <code class="language-text">maxAge</code> of this policy is the minimum <code class="language-text">maxAge</code> across all fields in your request. As <a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#setting-a-default-maxage">described above</a>, the default <code class="language-text">maxAge</code> of all root fields and non-scalar fields is 0, so the overall cache policy for a response will have <code class="language-text">maxAge</code> 0 (ie, uncacheable) unless all root and non-scalar fields in the response have cache hints (or if <code class="language-text">defaultMaxAge</code> is specified).</p>
<p>If the overall cache policy has a non-zero <code class="language-text">maxAge</code>, its scope is <code class="language-text">PRIVATE</code> if any hints have scope <code class="language-text">PRIVATE</code>, and <code class="language-text">PUBLIC</code> otherwise.</p>
<h2 id="serving-http-cache-headers" style="position:relative"><a class="headingLink" href="https://www.apollographql.com/docs/apollo-server/performance/caching/#serving-http-cache-headers">Serving HTTP cache headers</a></h2>
<p>For any response whose overall cache policy has a non-zero <code class="language-text">maxAge</code>, Apollo Server will automatically set the <code class="language-text">Cache-Control</code> HTTP response header to an appropriate value describing the <code class="language-text">maxAge</code> and scope, such as <code class="language-text">Cache-Control: max-age=60, private</code>.  If you run your Apollo Server instance behind a <a href="https://en.wikipedia.org/wiki/Content_delivery_network" target="_blank" rel="noopener noreferrer">CDN</a> or other caching proxy, it can use this header's value to know how to cache your GraphQL responses.</p>
<p>As many CDNs and caching proxies only cache GET requests (not POST requests) and may have a limit on the size of a GET URL, you may find it helpful to use <a href="https://github.com/apollographql/apollo-link-persisted-queries" target="_blank" rel="noopener noreferrer">automatic persisted queries</a>, especially with the <code class="language-text">useGETForHashedQueries</code> option to <code class="language-text">apollo-link-persisted-queries</code>.</p>
<p>If you don't want to set HTTP cache headers, pass <code class="language-text">cacheControl: {calculateHttpHeaders: false}</code> to <code class="language-text">new ApolloServer()</code>.</p>
<h2 id="saving-full-responses-to-a-cache" style="position:relative"><a class="headingLink" href="https://www.apollographql.com/docs/apollo-server/performance/caching/#saving-full-responses-to-a-cache">Saving full responses to a cache</a></h2>
<p>Apollo Server lets you save cacheable responses to a Redis, Memcached, or in-process cache. Cached responses respect the <code class="language-text">maxAge</code> cache hint.</p>
<p>To use the response cache, you need to install its plugin when you create your <code class="language-text">ApolloServer</code>:</p>
<div class="gatsby-highlight" data-language="javascript"><div class="css-1gcd36t e1ulzjg70"><div class="css-j1ow3a e1ulzjg71"><button class="css-hga22n">Copy</button></div><div class="css-r8v8pb e1ulzjg73"><pre style="counter-reset:linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">import</span> responseCachePlugin <span class="token keyword">from</span> <span class="token string">'apollo-server-plugin-response-cache'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApolloServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">responseCachePlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div></div></div>
<p>By default, the response cache plugin will use the same cache used by other Apollo Server features, which defaults to an in-memory LRU cache. When running multiple server instances, you’ll want to use a shared cache backend such as Memcached or Redis instead.  See <a href="https://www.apollographql.com/docs/apollo-server/data/data-sources/#using-memcachedredis-as-a-cache-storage-backend">the data sources documentation</a> for details on how to customize Apollo Server's cache.  If you want to use a different cache backend for the response cache than for other Apollo Server caching features, just pass a <code class="language-text">KeyValueCache</code> as the <code class="language-text">cache</code> option to the <code class="language-text">responseCachePlugin</code> function.</p>
<p>If you have data whose response should be cached separately for different users, set <code class="language-text">@cacheControl(scope: PRIVATE)</code> hints on the data, and teach the cache control plugin how to tell your users apart by defining a <code class="language-text">sessionId</code> hook:</p>
<div class="gatsby-highlight" data-language="javascript"><div class="css-1gcd36t e1ulzjg70"><div class="css-j1ow3a e1ulzjg71"><button class="css-hga22n">Copy</button></div><div class="css-r8v8pb e1ulzjg73"><pre style="counter-reset:linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">import</span> responseCachePlugin <span class="token keyword">from</span> <span class="token string">'apollo-server-plugin-response-cache'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApolloServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">responseCachePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">sessionId</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">requestContext</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>requestContext<span class="token punctuation">.</span>request<span class="token punctuation">.</span>http<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'sessionid'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div></div>
<p>Responses whose overall cache policy scope is <code class="language-text">PRIVATE</code> are shared only among sessions with the same session ID. Private responses are not cached if the <code class="language-text">sessionId</code> hook is not defined or returns null.</p>
<p>Responses whose overall cache policy scope is <code class="language-text">PUBLIC</code> are shared separately among all sessions with <code class="language-text">sessionId</code> null and among all sessions with non-null <code class="language-text">sessionId</code>.  Caching these separately allows you to have different caches for all logged-in users vs all logged-out users, if there is easily cacheable data that should only be visible to logged-in users.</p>
<p>Responses containing GraphQL errors or no data are never cached.</p>
<p>The plugin allows you to define a few more hooks to affect cache behavior for a specific request. All hooks take in a <code class="language-text">GraphQLRequestContext</code>.</p>
<ul>
<li><code class="language-text">extraCacheKeyData</code>: this hook can return any JSON-stringifiable object which is added to the cache key. For example, if your API includes translatable text, this hook can return a string derived from <code class="language-text">requestContext.request.http.headers.get('Accept-Language')</code>.</li>
<li><code class="language-text">shouldReadFromCache</code>: if this hook returns false, the plugin will not read responses from the cache.</li>
<li><code class="language-text">shouldWriteToCache</code>: if this hook returns false, the plugin will not write responses to the cache.</li>
</ul>
<p>In addition to the <a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#serving-http-cache-headers"><code class="language-text">Cache-Control</code> HTTP header</a>, the response cache plugin will also set the <code class="language-text">Age</code> HTTP header to the number of seconds the value has been sitting in the cache.</p></div></div><div class="css-1f6gfyy e694h6z7"><h5 class="css-rntvij e694h6z5"><a target="_blank" rel="noopener noreferrer" href="https://github.com/apollographql/apollo-server/tree/main/docs/source/performance/caching.md" class="css-1keuqhy e694h6z6"><svg viewBox="0 0 26 26" class="css-k9tv6n"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><path fill="currentColor" fill-rule="nonzero" d="M15.425 22.985V20.95c0-1.081-.371-1.876-1.112-2.385.465-.045.891-.107 1.279-.188a9.967 9.967 0 0 0 1.233-.348 6.039 6.039 0 0 0 1.166-.543c.344-.21.674-.482.991-.817.317-.335.583-.715.797-1.139.215-.424.384-.933.509-1.527a9.543 9.543 0 0 0 .188-1.963c0-1.384-.451-2.563-1.353-3.537.411-1.072.366-2.237-.134-3.497l-.335-.04c-.232-.027-.65.071-1.253.295-.603.224-1.279.589-2.03 1.098a12.317 12.317 0 0 0-3.309-.442c-1.152 0-2.251.147-3.296.442a11.41 11.41 0 0 0-1.346-.797 6.948 6.948 0 0 0-1.018-.429 3.503 3.503 0 0 0-1.132-.154.844.844 0 0 0-.134.027c-.5 1.268-.545 2.434-.134 3.497-.902.973-1.353 2.152-1.353 3.537 0 .715.063 1.369.188 1.963.125.594.295 1.103.509 1.527.214.424.48.804.797 1.139.317.335.647.607.991.817.344.21.732.391 1.166.543a9.54 9.54 0 0 0 1.233.348c.389.08.815.143 1.279.188-.732.5-1.098 1.295-1.098 2.385v2.075C10.5 24 14 24 15.425 22.985z"></path><circle cx="12" cy="12" r="12" stroke="currentColor" stroke-width="1.5"></circle></g></svg> Edit on GitHub</a></h5></div><nav class="css-9ckfit e1sfxy7w0"><a class="css-spe9v1 e1sfxy7w1" href="https://www.apollographql.com/docs/apollo-server/testing/graphql-playground/"><svg viewBox="0 0 14 24" class="css-1a134qk"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.5.75L1.78 11.47a.749.749 0 0 0-.001 1.059l.001.001L12.5 23.25"></path></svg><div class="css-16mhdhi e1sfxy7w2"><div class="css-1vhhq4p e1sfxy7w3">Previous</div><div class="css-mtbysh e1sfxy7w4">GraphQL Playground</div></div></a><a style="margin-left:auto" class="css-spe9v1 e1sfxy7w1" href="https://www.apollographql.com/docs/apollo-server/performance/apq/"><div class="css-18eg9eb e1sfxy7w2"><div class="css-1vhhq4p e1sfxy7w3">Next</div><div class="css-mtbysh e1sfxy7w4">Automatic persisted queries</div></div><svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5.5.75l10.72 10.72a.749.749 0 0 1 .001 1.059l-.001.001L5.5 23.25"></path></svg></a></nav></div><aside class="css-u6jpbo e694h6z3"><h4 class="css-35ezg3 e694h6z4">Caching</h4><ul class="css-1b603mp e1wyoreh0"><li class=" css-1h656g5 e1wyoreh1" style="padding-left:"><a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#defining-cache-hints">Defining cache hints</a></li><li class=" css-1h656g5 e1wyoreh1" style="padding-left:16px"><a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#adding-cache-hints-statically-in-your-schema">Adding cache hints statically in your schema</a></li><li class=" css-1h656g5 e1wyoreh1" style="padding-left:16px"><a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#adding-cache-hints-dynamically-in-your-resolvers">Adding cache hints dynamically in your resolvers</a></li><li class=" css-1h656g5 e1wyoreh1" style="padding-left:16px"><a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#setting-a-default-maxage">Setting a default maxAge</a></li><li class=" css-1h656g5 e1wyoreh1" style="padding-left:16px"><a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#the-overall-cache-policy">The overall cache policy</a></li><li class=" css-1h656g5 e1wyoreh1" style="padding-left:"><a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#serving-http-cache-headers">Serving HTTP cache headers</a></li><li class=" css-1h656g5 e1wyoreh1" style="padding-left:"><a href="https://www.apollographql.com/docs/apollo-server/performance/caching/#saving-full-responses-to-a-cache">Saving full responses to a cache</a></li></ul><h5 class="css-rntvij e694h6z5"><a class="css-1keuqhy e694h6z6"><svg viewBox="0 0 24 24" style="margin-top:-2px" class="css-1a134qk"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.729 1.2l3.346 6.629 6.44.638a.806.806 0 0 1 .5 1.374l-5.3 5.253 1.965 7.138a.813.813 0 0 1-1.151.935L12 19.934l-6.52 3.229a.813.813 0 0 1-1.151-.935l1.965-7.138L.99 9.837a.804.804 0 0 1 .5-1.374l6.44-.638L11.271 1.2a.819.819 0 0 1 1.458 0z"></path></svg> Rate article</a></h5><h5 class="css-rntvij e694h6z5"><a target="_blank" rel="noopener noreferrer" href="https://github.com/apollographql/apollo-server/tree/main/docs/source/performance/caching.md" class="css-1keuqhy e694h6z6"><svg viewBox="0 0 26 26" class="css-k9tv6n"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><path fill="currentColor" fill-rule="nonzero" d="M15.425 22.985V20.95c0-1.081-.371-1.876-1.112-2.385.465-.045.891-.107 1.279-.188a9.967 9.967 0 0 0 1.233-.348 6.039 6.039 0 0 0 1.166-.543c.344-.21.674-.482.991-.817.317-.335.583-.715.797-1.139.215-.424.384-.933.509-1.527a9.543 9.543 0 0 0 .188-1.963c0-1.384-.451-2.563-1.353-3.537.411-1.072.366-2.237-.134-3.497l-.335-.04c-.232-.027-.65.071-1.253.295-.603.224-1.279.589-2.03 1.098a12.317 12.317 0 0 0-3.309-.442c-1.152 0-2.251.147-3.296.442a11.41 11.41 0 0 0-1.346-.797 6.948 6.948 0 0 0-1.018-.429 3.503 3.503 0 0 0-1.132-.154.844.844 0 0 0-.134.027c-.5 1.268-.545 2.434-.134 3.497-.902.973-1.353 2.152-1.353 3.537 0 .715.063 1.369.188 1.963.125.594.295 1.103.509 1.527.214.424.48.804.797 1.139.317.335.647.607.991.817.344.21.732.391 1.166.543a9.54 9.54 0 0 0 1.233.348c.389.08.815.143 1.279.188-.732.5-1.098 1.295-1.098 2.385v2.075C10.5 24 14 24 15.425 22.985z"></path><circle cx="12" cy="12" r="12" stroke="currentColor" stroke-width="1.5"></circle></g></svg> Edit on GitHub</a></h5><h5 class="css-rntvij e694h6z5"><a target="_blank" rel="noopener noreferrer" href="https://spectrum.chat/apollo/apollo-server" class="css-1keuqhy e694h6z6"><svg viewBox="0 0 32 32"><path d="M4 14.2A1.8 1.8 0 005.8 16h1.8a8.4 8.4 0 018.4 8.4v1.8a1.8 1.8 0 001.8 1.8h8.4a1.8 1.8 0 001.8-1.8v-1.8C28 13.133 18.867 4 7.6 4H5.8A1.8 1.8 0 004 5.8v8.4z"></path></svg> Discuss on Spectrum</a></h5></aside></div></div></main></div><div style="opacity:0;visibility:hidden" class="css-12zcwkl em9i7t20"><div tabindex="-1" style="transform:translate3d(0,-24px,-16px) rotate3d(1,0,0.1,8deg)" class="css-10dh5mk em9i7t21"><nav class="css-1d3ruj1 em9i7t27"><div class="css-120ki2j em9i7t28"><h6 class="css-bm3qgz em9i7t22">Core</h6><ul class="css-12dbaiq em9i7t23"><li class="css-1covni em9i7t24"><a href="https://www.apollographql.com/docs" title="Learn about each part of the Apollo platform and how they all work together." class="css-mne644 em9i7t25"><h4 class="css-12yi4b2 em9i7t26">Apollo Basics</h4></a></li></ul></div><div class="css-120ki2j em9i7t28"><h6 class="css-bm3qgz em9i7t22">Apollo Client</h6><ul class="css-12dbaiq em9i7t23"><li class="css-1covni em9i7t24"><a href="https://www.apollographql.com/docs/react" title="Manage the entirety of your React app&#39;s state and seamlessly execute GraphQL operations." class="css-mne644 em9i7t25"><h4 class="css-12yi4b2 em9i7t26">React / JS</h4></a></li><li class="css-1covni em9i7t24"><a href="https://www.apollographql.com/docs/ios" title="Manage the entirety of your iOS app&#39;s state and seamlessly execute GraphQL operations." class="css-mne644 em9i7t25"><h4 class="css-12yi4b2 em9i7t26">iOS</h4></a></li><li class="css-1covni em9i7t24"><a href="https://www.apollographql.com/docs/android" title="Manage the entirety of your Android app&#39;s state and seamlessly execute GraphQL operations." class="css-mne644 em9i7t25"><h4 class="css-12yi4b2 em9i7t26">Android</h4></a></li></ul></div><div class="css-120ki2j em9i7t28"><h6 class="css-bm3qgz em9i7t22">Backend</h6><ul class="css-12dbaiq em9i7t23"><li class="css-1covni em9i7t24"><a href="https://www.apollographql.com/docs/apollo-server" title="Configure a production-ready GraphQL server to fetch and combine data from multiple sources." class="css-mne644 em9i7t25"><h4 class="css-12yi4b2 em9i7t26">Apollo Server</h4></a></li><li class="css-1covni em9i7t24"><a href="https://www.apollographql.com/docs/federation" title="Implement a single data graph across multiple services." class="css-mne644 em9i7t25"><h4 class="css-12yi4b2 em9i7t26">Apollo Federation</h4></a></li></ul></div><div class="css-120ki2j em9i7t28"><h6 class="css-bm3qgz em9i7t22">Tools</h6><ul class="css-12dbaiq em9i7t23"><li class="css-1covni em9i7t24"><a href="https://www.apollographql.com/docs/graph-manager" title="Build your graph with your team, evolve it safely, and keep it running smoothly." class="css-mne644 em9i7t25"><h4 class="css-12yi4b2 em9i7t26">Apollo Studio</h4></a></li></ul></div></nav><nav class="css-1we5kcv em9i7t211"><a href="https://blog.apollographql.com/" target="_blank" rel="noopener noreferrer" class="css-16cjsrx em9i7t212">Blog</a><a href="https://www.apollographql.com/docs/community/" class="css-16cjsrx em9i7t212">Contribute</a><a href="https://summit.graphql.com/" target="_blank" rel="noopener noreferrer" class="css-16cjsrx em9i7t212">GraphQL Summit</a><div class="css-gdccfg em9i7t213"><a href="https://spectrum.chat/apollo" title="Spectrum" target="_blank" class="css-1u52uy1 em9i7t214"><svg viewBox="0 0 32 32"><path d="M4 14.2A1.8 1.8 0 005.8 16h1.8a8.4 8.4 0 018.4 8.4v1.8a1.8 1.8 0 001.8 1.8h8.4a1.8 1.8 0 001.8-1.8v-1.8C28 13.133 18.867 4 7.6 4H5.8A1.8 1.8 0 004 5.8v8.4z"></path></svg></a><a href="https://twitter.com/apollographql" title="Twitter" target="_blank" class="css-1u52uy1 em9i7t214"><svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="currentColor" d="M23.32 6.44a.5.5 0 0 0-.2-.87l-.79-.2a.5.5 0 0 1-.33-.7l.44-.89a.501.501 0 0 0-.58-.7l-2 .56a.502.502 0 0 1-.44-.08 5 5 0 0 0-8 4v.36a.25.25 0 0 1-.22.25c-2.81.33-5.5-1.1-8.4-4.44a.508.508 0 0 0-.51-.15A.5.5 0 0 0 2 4a7.575 7.575 0 0 0 .46 4.92.25.25 0 0 1-.26.36l-1.12-.22a.5.5 0 0 0-.57.59 5.15 5.15 0 0 0 2.37 3.78.25.25 0 0 1 0 .45l-.53.21a.5.5 0 0 0-.26.69 4.36 4.36 0 0 0 3.2 2.48.25.25 0 0 1 0 .47c-1.36.562-2.819.845-4.29.83a.51.51 0 0 0-.2 1 20.063 20.063 0 0 0 8.14 1.93 12.58 12.58 0 0 0 7-2A12.5 12.5 0 0 0 21.5 9.06v-.87a.499.499 0 0 1 .18-.38l1.64-1.37z"></path></svg></a><a href="https://www.youtube.com/channel/UC0pEW_GOrMJ23l8QcrGdKSw" title="YouTube" target="_blank" class="css-1u52uy1 em9i7t214"><svg viewBox="0 0 24 24" class="css-1a134qk"><path fill="currentColor" d="M20.06 3.5H3.94A3.94 3.94 0 0 0 0 7.44v9.12a3.94 3.94 0 0 0 3.94 3.94h16.12A3.94 3.94 0 0 0 24 16.56V7.44a3.94 3.94 0 0 0-3.94-3.94zM16.54 12l-6.77 4.36a.5.5 0 0 1-.77-.42V7.28a.5.5 0 0 1 .77-.42l6.77 4.33a.5.5 0 0 1 0 .84V12z"></path></svg></a></div></nav></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-74643563-13', 'auto', {});
      
      
      
      
      
      }</script><script src="./Caching - Apollo Server - Apollo GraphQL Docs_files/docsearch.min.js"></script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/performance/caching/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-72546b9ca477f57c2f2e.js"],"app":["/app-db1a8bd0a4ff2ede7004.js"],"component---node-modules-gatsby-theme-apollo-core-src-pages-404-js":["/component---node-modules-gatsby-theme-apollo-core-src-pages-404-js-1411d036953d5c6e3b72.js"],"component---node-modules-gatsby-theme-apollo-docs-src-components-template-js":["/component---node-modules-gatsby-theme-apollo-docs-src-components-template-js-87fdbf97562b7d15efb1.js"]};/*]]>*/</script><script src="./Caching - Apollo Server - Apollo GraphQL Docs_files/polyfill-72546b9ca477f57c2f2e.js" nomodule=""></script><script src="./Caching - Apollo Server - Apollo GraphQL Docs_files/component---node-modules-gatsby-theme-apollo-docs-src-components-template-js-87fdbf97562b7d15efb1.js" async=""></script><script src="./Caching - Apollo Server - Apollo GraphQL Docs_files/app-db1a8bd0a4ff2ede7004.js" async=""></script><script src="./Caching - Apollo Server - Apollo GraphQL Docs_files/framework-acb96471af32e2ccbc9d.js" async=""></script><script src="./Caching - Apollo Server - Apollo GraphQL Docs_files/styles-c4fa86dfd4ad05097eee.js" async=""></script><script src="./Caching - Apollo Server - Apollo GraphQL Docs_files/webpack-runtime-30973b71277fecd56f25.js" async=""></script><div><iframe id="ffiframe" frameborder="0" allowtransparancy="true" loading="eager" src="./Caching - Apollo Server - Apollo GraphQL Docs_files/freddyframe.html" class="ffiframe-bottom-sticky"></iframe></div></body></html>